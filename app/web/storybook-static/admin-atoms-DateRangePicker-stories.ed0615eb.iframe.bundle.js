"use strict";(self.webpackChunknextbase=self.webpackChunknextbase||[]).push([[2503],{"./node_modules/@radix-ui/react-presence/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Presence});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs");var Presence=props=>{const{present,children}=props,presence=function usePresence(present){const[node,setNode]=react__WEBPACK_IMPORTED_MODULE_0__.useState(),stylesRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),prevPresentRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(present),prevAnimationNameRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef("none"),initialState=present?"mounted":"unmounted",[state,send]=function useStateMachine(initialState,machine){return react__WEBPACK_IMPORTED_MODULE_0__.useReducer(((state,event)=>machine[state][event]??state),initialState)}(initialState,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const currentAnimationName=getAnimationName(stylesRef.current);prevAnimationNameRef.current="mounted"===state?currentAnimationName:"none"}),[state]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)((()=>{const styles=stylesRef.current,wasPresent=prevPresentRef.current;if(wasPresent!==present){const prevAnimationName=prevAnimationNameRef.current,currentAnimationName=getAnimationName(styles);if(present)send("MOUNT");else if("none"===currentAnimationName||"none"===styles?.display)send("UNMOUNT");else{send(wasPresent&&prevAnimationName!==currentAnimationName?"ANIMATION_OUT":"UNMOUNT")}prevPresentRef.current=present}}),[present,send]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)((()=>{if(node){let timeoutId;const ownerWindow=node.ownerDocument.defaultView??window,handleAnimationEnd=event=>{const isCurrentAnimation=getAnimationName(stylesRef.current).includes(event.animationName);if(event.target===node&&isCurrentAnimation&&(send("ANIMATION_END"),!prevPresentRef.current)){const currentFillMode=node.style.animationFillMode;node.style.animationFillMode="forwards",timeoutId=ownerWindow.setTimeout((()=>{"forwards"===node.style.animationFillMode&&(node.style.animationFillMode=currentFillMode)}))}},handleAnimationStart=event=>{event.target===node&&(prevAnimationNameRef.current=getAnimationName(stylesRef.current))};return node.addEventListener("animationstart",handleAnimationStart),node.addEventListener("animationcancel",handleAnimationEnd),node.addEventListener("animationend",handleAnimationEnd),()=>{ownerWindow.clearTimeout(timeoutId),node.removeEventListener("animationstart",handleAnimationStart),node.removeEventListener("animationcancel",handleAnimationEnd),node.removeEventListener("animationend",handleAnimationEnd)}}send("ANIMATION_END")}),[node,send]),{isPresent:["mounted","unmountSuspended"].includes(state),ref:react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node2=>{stylesRef.current=node2?getComputedStyle(node2):null,setNode(node2)}),[])}}(present),child="function"==typeof children?children({present:presence.isPresent}):react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children),ref=(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__.s)(presence.ref,function getElementRef(element){let getter=Object.getOwnPropertyDescriptor(element.props,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning;if(mayWarn)return element.ref;if(getter=Object.getOwnPropertyDescriptor(element,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning,mayWarn)return element.props.ref;return element.props.ref||element.ref}(child));return"function"==typeof children||presence.isPresent?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{ref}):null};function getAnimationName(styles){return styles?.animationName||"none"}Presence.displayName="Presence"},"./src/components/admin/atoms/DateRangePicker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DateRangePicker_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@radix-ui/react-popover/dist/index.mjs"),calendar=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/calendar.js"),DayPicker=__webpack_require__("./node_modules/react-day-picker/dist/esm/DayPicker.js"),formatDateSafely=__webpack_require__("./src/lib/formatDateSafely.ts");__webpack_require__("./node_modules/react-day-picker/src/style.css");function DateRangePicker({range,onChange,placeholder="Selecciona un rango de fecha"}){const[open,setOpen]=react.useState(!1);let displayText="";return(null==range?void 0:range.from)&&(null==range?void 0:range.to)?displayText=`${(0,formatDateSafely.w)(range.from,"PPP")} - ${(0,formatDateSafely.w)(range.to,"PPP")}`:(null==range?void 0:range.from)&&(displayText=`${(0,formatDateSafely.w)(range.from,"PPP")} - ...`),(0,jsx_runtime.jsxs)(dist.bL,{open,onOpenChange:setOpen,children:[(0,jsx_runtime.jsx)(dist.l9,{asChild:!0,children:(0,jsx_runtime.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:[displayText||(0,jsx_runtime.jsx)("span",{className:"text-muted-foreground",children:placeholder}),(0,jsx_runtime.jsx)(calendar.A,{className:"ml-2 h-4 w-4 opacity-50"})]})}),(0,jsx_runtime.jsx)(dist.ZL,{children:(0,jsx_runtime.jsx)(dist.UC,{align:"start",sideOffset:4,className:"z-50 rounded-md border border-border bg-popover p-2 shadow-md",children:(0,jsx_runtime.jsx)(DayPicker.h,{mode:"range",selected:range,onSelect:selected=>{selected&&onChange(selected)},autoFocus:!0,numberOfMonths:2})})})]})}DateRangePicker.__docgenInfo={description:"",methods:[],displayName:"DateRangePicker",props:{placeholder:{defaultValue:{value:"'Selecciona un rango de fecha'",computed:!1},required:!1}}};const DateRangePicker_stories={title:"Admin/Atoms/DateRangePicker",component:DateRangePicker,tags:["autodocs"]},DateRangePickerStory=()=>{const[range,setRange]=(0,react.useState)();return(0,jsx_runtime.jsx)("div",{style:{width:320},children:(0,jsx_runtime.jsx)(DateRangePicker,{range,onChange:setRange,placeholder:"Select date range"})})},Default={render:()=>(0,jsx_runtime.jsx)(DateRangePickerStory,{})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: () => <DateRangePickerStory />\n}",...Default.parameters?.docs?.source}}}},"./src/lib/formatDateSafely.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>formatDateSafely});var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/format.js"),date_fns_locale__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/locale/es.js");const formatDateSafely=(date,fallback="Fecha no vÃ¡lida")=>{var _date_getTime;if(!date||isNaN(null===(_date_getTime=date.getTime)||void 0===_date_getTime?void 0:_date_getTime.call(date)))return fallback;try{return(0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_0__.GP)(date,"PPP",{locale:date_fns_locale__WEBPACK_IMPORTED_MODULE_1__.es})}catch(e){return fallback}}}}]);